!function(e){if("function"==typeof define&&define.amd)define(e);else if("object"==typeof exports)module.exports=e();else{var n=window.Cookies,o=window.Cookies=e();o.noConflict=function(){return window.Cookies=n,o}}}(function(){function e(){for(var e=0,n={};e<arguments.length;e++){var o=arguments[e];for(var t in o)n[t]=o[t]}return n}function n(o){function t(n,i,r){var c;if("undefined"!=typeof document){if(arguments.length>1){if(r=e({path:"/"},t.defaults,r),"number"==typeof r.expires){var a=new Date;a.setMilliseconds(a.getMilliseconds()+864e5*r.expires),r.expires=a}try{c=JSON.stringify(i),/^[\{\[]/.test(c)&&(i=c)}catch(e){}return i=o.write?o.write(i,n):encodeURIComponent(String(i)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),n=encodeURIComponent(String(n)),n=n.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),n=n.replace(/[\(\)]/g,escape),document.cookie=[n,"=",i,r.expires&&"; expires="+r.expires.toUTCString(),r.path&&"; path="+r.path,r.domain&&"; domain="+r.domain,r.secure?"; secure":""].join("")}n||(c={});for(var s=document.cookie?document.cookie.split("; "):[],p=/(%[0-9A-Z]{2})+/g,d=0;d<s.length;d++){var f=s[d].split("="),u=f.slice(1).join("=");'"'===u.charAt(0)&&(u=u.slice(1,-1));try{var l=f[0].replace(p,decodeURIComponent);if(u=o.read?o.read(u,l):o(u,l)||u.replace(p,decodeURIComponent),this.json)try{u=JSON.parse(u)}catch(e){}if(n===l){c=u;break}n||(c[l]=u)}catch(e){}}return c}}return t.set=t,t.get=function(e){return t(e)},t.getJSON=function(){return t.apply({json:!0},[].slice.call(arguments))},t.defaults={},t.remove=function(n,o){t(n,"",e(o,{expires:-1}))},t.withConverter=n,t}return n(function(){})});
$.ajaxSetup({headers:{"X-CSRFToken":$('meta[name="csrf_token"]').attr("content")}}),function(t){var e=t("#block-ui").clone().removeAttr("id").removeClass("hidden").hide(),o=function(o,n){this.block=e.clone(),this.parent=t(o),this.parent.append(this.block),this.show()};o.prototype={hide:function(e){this.block.fadeOut(300,function(){t(this).remove()})},show:function(t){this.block.fadeIn(300)}},window.BlockUi=o}(jQuery);
!function(t){function e(e,r,a,i){var s=t("<div>",{class:"alert alert-"+e});return t("<p>",{text:r}).appendTo(s),a&&t("<i>",{class:"fa fa-2x fa-"+a}).prependTo(s),s}var r=t(".alert-container");if(r.length){var a=function(){var e=this;this.alerts=[],this.alertArea=r,this.alertArea.children().each(function(){e.alerts.push(t(this))})};a.prototype={add:function(t,r,a,i){var s=e(t,r,a,i);this.alerts.push(s),this.alertArea.append(s),s.hide().slideDown()},clear:function(e){var r;e?(r=this.alertArea.find(".alert-"+e),this.alerts=this.alerts.filter(function(){return!t(this).hasClass("alert-"+e)})):(r=this.alertArea.children(),this.alerts=[]),r.slideUp(300,function(){t(this).remove()})}},window.Alerts=new a}}(jQuery);
!function(t){function s(t,s){return'<i class="fa fa-'+s+'"></i> '+t}var i=function(s,i,n){this.button=t(s),this.originalContent=this.button.html(),this.successMessage=i||"Success!",this.successIcon=n||"thumbs-o-up"};i.prototype={defaultSpinner:'<div class="spinner"><div class="bounce1"></div><div class="bounce2"></div><div class="bounce3"></div></div>',start:function(){if(this.button.data("completed"))return!1;this.button.height(this.button.height()),this.button.width(this.button.width());var t=this.defaultSpinner;this.button.html(t)},reset:function(){this.button.html(this.originalContent)},success:function(){var t=s(this.successMessage,this.successIcon);this.button.html(t).addClass("btn-completed").data("completed",!0)}},window.LoadingButton=i}(jQuery);
!function(e){e("body").on("click",".share-btn",function(t){t.preventDefault();var r=e(this),n=r.data("href")||window.location.toString(),a=new LoadingButton(r,"Awesome!","thumbs-o-up fa-2x");a.start()&&FB.ui({method:"share",href:n,mobile_iframe:!0},function(e){e&&!e.hasOwnProperty("error")?a.success():a.reset()})}).on("click",".story-btn",function(t){t.preventDefault();var r=e(this),n=r.data("action"),a=r.data("celebrity"),o=new LoadingButton(r,"Awesome!","thumbs-o-up fa-2x");o.start()&&FB.api("me/"+n,"post",{celebrity:a,access_token:userAccessToken},function(e){e&&!e.hasOwnProperty("error")&&e.hasOwnProperty("id")?o.success():(o.reset(),Alerts.add("danger","Sorry, something went wrong. Please refresh the page and try again later","exclamation-triangle",!0))})})}(jQuery);
!function(e){e("body.onboard .friends button").click(function(){var n=e(".friend-invite"),i=n.find("input:checked"),t=i.map(function(){return e(this).val()}).get(),o=n.data("request-url"),a=n.data("message"),r=new BlockUi(n);FB.ui({method:"apprequests",message:a,to:t.join(",")},function(n){return!n||"error_code"in n?void r.hide():(i.closest("label").fadeOut(),void e.post(o,{response:n}).fail(function(){}).always(function(){r.hide()}))})})}(jQuery);
!function(e){e(".invite-btn").click(function(r){r.preventDefault();var n=e(this),i=n.data("url"),t=n.data("message"),o=e(".bg-container"),a=new BlockUi(o);FB.ui({method:"apprequests",message:t},function(r){return!r||"error_code"in r||Array.isArray(r)&&!r.length?void a.hide():void e.post(i,{response:r}).done(function(r){r.success||console.error(r);var i=r.data;if(i.hasOwnProperty("redirect"))n.data("no-redirect")?(Alerts.clear(),Alerts.add("info","Your friends have been successfully added!","info-circle")):window.location.href=i.redirect;else if(i.hasOwnProperty("required_count")){var t=i.required_count;e(".invite-count").text(t),Alerts.clear("danger");var o="Sorry, you didn't invite enough friends. Please invite "+t+" or more friends to continue playing.";Alerts.add("danger",o,"exclamation-triangle")}}).fail(function(){}).always(function(){a.hide()})})})}(jQuery);
if(function(e){var t=3,a=function(t){var a=this;this.gameArea=e(t),this.gameForm=t.find("form"),this.buttons=this.gameArea.find(".verb-btn"),this.selected=[],this.completed=!1,this.gameArea.on("click",".verb-btn",function(t){t.preventDefault(),a.select(e(this))}),this.gameArea.find(".undo-btn").click(function(e){e.preventDefault(),a.undo()}),this.gameForm.submit(function(e){if(!a.completed)return!1})};a.prototype={undo:function(){this.selected=[],this.gameArea.find(".game-card").removeClass("card-selected").addClass("card-unselected"),this.buttons.removeClass("disabled"),this.gameArea.find(".game-card input").prop("checked",!1),this.gameArea.find(".overlay-image").children().hide()},select:function(a){var i=a.data("verb");if(this.selected.indexOf(i)===-1){this.selected.push(i),this.otherButtons(a).addClass("disabled");var n=a.closest(".game-card").removeClass("card-unselected").addClass("card-selected");a.next("input").prop("checked",!0),n.find(".overlay-image").children().filter(function(){return e(this).data("verb")==i}).fadeIn(),this.selected.length===t&&this.complete()}},otherButtons:function(t){var a=t.data("verb");return this.buttons.not(t).filter(function(){return e(this).data("verb")===a})},complete:function(){var t=this;this.completed=!0,this.gameArea.find(".undo-btn").fadeOut(),this.gameArea.find(".skip-btn").hide(),this.gameArea.find(".next-btn").removeClass("hidden"),t.gameArea.find(".game-card").each(function(a){var i=t.selected[a];e(this).find('.game-story[data-verb="'+i+'"]').removeClass("hidden")}),setTimeout(function(){t.gameArea.find(".game-result").fadeIn(),t.gameArea.addClass("game-complete")},600)}},window.Game=a}(jQuery),$("body").hasClass("game"))var game=new Game($(".game-area"));
!function(e){var t=e(".index-header .header-content");t.length&&e(".bg-col").hover(function(){var a=e(this);a.prevAll().length;t.addClass(a.data("verb")+"-selected")},function(){var a=e(this);a.prevAll().length;t.removeClass(a.data("verb")+"-selected")})}(jQuery);
//# sourceMappingURL=app.min.js.map
