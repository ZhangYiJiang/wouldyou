!function(e){if("function"==typeof define&&define.amd)define(e);else if("object"==typeof exports)module.exports=e();else{var n=window.Cookies,o=window.Cookies=e();o.noConflict=function(){return window.Cookies=n,o}}}(function(){function e(){for(var e=0,n={};e<arguments.length;e++){var o=arguments[e];for(var t in o)n[t]=o[t]}return n}function n(o){function t(n,i,r){var c;if("undefined"!=typeof document){if(arguments.length>1){if(r=e({path:"/"},t.defaults,r),"number"==typeof r.expires){var a=new Date;a.setMilliseconds(a.getMilliseconds()+864e5*r.expires),r.expires=a}try{c=JSON.stringify(i),/^[\{\[]/.test(c)&&(i=c)}catch(e){}return i=o.write?o.write(i,n):encodeURIComponent(String(i)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),n=encodeURIComponent(String(n)),n=n.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),n=n.replace(/[\(\)]/g,escape),document.cookie=[n,"=",i,r.expires&&"; expires="+r.expires.toUTCString(),r.path&&"; path="+r.path,r.domain&&"; domain="+r.domain,r.secure?"; secure":""].join("")}n||(c={});for(var s=document.cookie?document.cookie.split("; "):[],p=/(%[0-9A-Z]{2})+/g,d=0;d<s.length;d++){var f=s[d].split("="),u=f.slice(1).join("=");'"'===u.charAt(0)&&(u=u.slice(1,-1));try{var l=f[0].replace(p,decodeURIComponent);if(u=o.read?o.read(u,l):o(u,l)||u.replace(p,decodeURIComponent),this.json)try{u=JSON.parse(u)}catch(e){}if(n===l){c=u;break}n||(c[l]=u)}catch(e){}}return c}}return t.set=t,t.get=function(e){return t(e)},t.getJSON=function(){return t.apply({json:!0},[].slice.call(arguments))},t.defaults={},t.remove=function(n,o){t(n,"",e(o,{expires:-1}))},t.withConverter=n,t}return n(function(){})});
$.ajaxSetup({headers:{"X-CSRFToken":$('meta[name="csrf_token"]').attr("content")}}),function(t){var e=t("#block-ui").clone().removeAttr("id").removeClass("hidden").hide(),o=function(o,n){this.block=e.clone(),this.parent=t(o),this.parent.append(this.block),this.show()};o.prototype={hide:function(e){this.block.fadeOut(300,function(){t(this).remove()})},show:function(t){this.block.fadeIn(300)}},window.BlockUi=o}(jQuery);
!function(t){var e=t(".alert-container");if(e.length){var s=function(e,s,i,a){var n=this;if(this.level=e,this.dismissed=!1,this.alert=t("<div>",{class:"alert alert-"+e}),t("<p>",{html:s}).appendTo(this.alert),i&&t("<i>",{class:"fa fa-2x fa-"+i}).prependTo(this.alert),a){var r=t(this.closeBtnHtml);r.appendTo(this.alert).click(function(){n.dismiss(),"function"==typeof a&&a(alert)})}this.alert.hide()};s.prototype={closeBtnHtml:'<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>',open:function(){this.alert.slideDown(200)},dismiss:function(){if(!this.dismissed){var e=this;this.alert.slideUp(200,function(){t(this).remove(),e.dismissed=!0})}}};var i=function(){var s=this;this.alerts=[],this.alertArea=e,this.alertArea.children().each(function(){s.alerts.push(t(this))})};i.prototype={add:function(t,e,s,i){var a=this.makeButton(t,e,s,i);return this.alerts.push(a),this.alertArea.prepend(a.alert),a.open(),a},clear:function(t){var e,s=[];t?(e=[],this.alerts.forEach(function(i){i.level==t?e.push(i):s.push(i)})):e=this.alerts,e.forEach(function(t){t.dismiss()}),this.alerts=s},makeButton:function(t,e,i,a){return new s(t,e,i,a)}},window.AlertManager=new i,window.Alert=s}}(jQuery);
!function(t){function s(t,s){return'<i class="fa fa-'+s+'"></i> '+t}var i=function(s,i,n){this.button=t(s),this.originalContent=this.button.html(),this.successMessage=i||"Success!",this.successIcon=n||"thumbs-o-up"};i.prototype={defaultSpinner:'<div class="spinner"><div class="bounce1"></div><div class="bounce2"></div><div class="bounce3"></div></div>',start:function(){if(this.button.data("started"))return!1;this.button.height(this.button.height()),this.button.width(this.button.width());var t=this.defaultSpinner;return this.button.html(t),this.button.addClass("btn-started").data("started",!0),!0},reset:function(){this.button.html(this.originalContent),this.button.removeClass("btn-started").data("started",!1)},success:function(){var t=s(this.successMessage,this.successIcon);this.button.html(t)}},window.LoadingButton=i}(jQuery);
!function(e){e("body").on("click",".share-btn",function(t){t.preventDefault();var r=e(this),n=r.data("href")||window.location.toString(),a=new LoadingButton(r,"Awesome!","thumbs-o-up fa-2x");a.start()&&FB.ui({method:"share",href:n,mobile_iframe:!0},function(e){e&&!e.hasOwnProperty("error")?a.success():a.reset()})}).on("click",".story-btn",function(t){t.preventDefault();var r=e(this),n=r.data("action"),a=r.data("celebrity"),o=new LoadingButton(r,"Awesome!","thumbs-o-up fa-2x");o.start()&&FB.api("me/"+n,"post",{celebrity:a,access_token:userAccessToken},function(e){e&&!e.hasOwnProperty("error")&&e.hasOwnProperty("id")?o.success():(o.reset(),AlertManager.add("danger","Sorry, something went wrong. Please refresh the page and try again later","exclamation-triangle",!0))})})}(jQuery);
!function(e){e("body.onboard .friends button").click(function(){var n=e(".friend-invite"),i=n.find("input:checked"),t=i.map(function(){return e(this).val()}).get(),o=n.data("request-url"),a=n.data("message"),r=new BlockUi(n);FB.ui({method:"apprequests",message:a,to:t.join(",")},function(n){return!n||"error_code"in n?void r.hide():(i.closest("label").fadeOut(),void e.post(o,{response:n}).fail(function(){}).always(function(){r.hide()}))})})}(jQuery);
!function(e){e(".invite-btn").click(function(r){r.preventDefault();var n=e(this),a=n.data("url"),i=n.data("message"),t=e(".bg-container"),o=new BlockUi(t);FB.ui({method:"apprequests",message:i},function(r){return!r||"error_code"in r||Array.isArray(r)&&!r.length?void o.hide():void e.post(a,{response:r}).done(function(r){r.success||console.error(r);var a=r.data;if(a.hasOwnProperty("redirect"))n.data("no-redirect")?(AlertManager.clear(),AlertManager.add("info","Your friends have been successfully added!","info-circle")):window.location.href=a.redirect;else if(a.hasOwnProperty("required_count")){var i=a.required_count;e(".invite-count").text(i),AlertManager.clear("danger");var t="Sorry, you didn't invite enough friends. Please invite "+i+" or more friends to continue playing.";AlertManager.add("danger",t,"exclamation-triangle")}}).fail(function(){}).always(function(){o.hide()})})})}(jQuery);
if(function(e){var t=3,i=function(t){var i=this;this.gameArea=e(t),this.gameForm=t.find("form"),this.buttons=this.gameArea.find(".verb-btn"),this.selected=[],this.completed=!1,this.gameArea.on("click",".verb-btn",function(t){t.preventDefault(),i.select(e(this))}),this.gameArea.find(".undo-btn").click(function(e){e.preventDefault(),i.undo()}),this.gameForm.submit(function(e){if(!i.completed)return!1})};i.prototype={showLikeAlertAfter:5,undo:function(){this.selected=[],this.gameArea.find(".game-card").removeClass("card-selected").addClass("card-unselected"),this.buttons.removeClass("disabled"),this.gameArea.find(".game-card input").prop("checked",!1),this.gameArea.find(".overlay-image").children().hide()},select:function(i){var s=i.data("verb");if(this.selected.indexOf(s)===-1){this.selected.push(s),this.otherButtons(i).addClass("disabled");var a=i.closest(".game-card").removeClass("card-unselected").addClass("card-selected");i.next("input").prop("checked",!0),a.find(".overlay-image").children().filter(function(){return e(this).data("verb")==s}).fadeIn(),this.selected.length===t&&this.complete()}},otherButtons:function(t){var i=t.data("verb");return this.buttons.not(t).filter(function(){return e(this).data("verb")===i})},complete:function(){var t=this,i=this.gameArea.find(".game-card");this.completed=!0,this.gameArea.find(".undo-btn").fadeOut(),this.gameArea.find(".skip-btn").hide(),this.gameArea.find(".next-btn").removeClass("hidden"),i.each(function(i){var s=t.selected[i];e(this).find('.game-story[data-verb="'+s+'"]').removeClass("hidden")}),setTimeout(this.showResults.bind(this),400),setTimeout(this.showLikeAlert.bind(this),1800)},showResults:function(){this.gameArea.find(".game-card").each(function(t,i){setTimeout(function(){e(i).find(".game-result").fadeIn(300)},400*t)})},showLikeAlert:function(){if(!Cookies.get("like_alert_dismissed")){var t=+Cookies.get("complete_count")||0;if(t>this.showLikeAlertAfter){var i=e("footer.global .fb-like").get(0).outerHTML,s="Having fun? Why not spread the word by giving us a like? ";AlertManager.add("info",s+i,"thumbs-o-up",function(){Cookies.set("like_alert_dismissed",!0,{expires:365})})}else Cookies.set("complete_count",t+1,{expires:365})}}},window.Game=i}(jQuery),$("body").hasClass("game"))var game=new Game($(".game-area"));
!function(e){var t=e(".index-header .header-content");t.length&&e(".bg-col").hover(function(){var a=e(this);a.prevAll().length;t.addClass(a.data("verb")+"-selected")},function(){var a=e(this);a.prevAll().length;t.removeClass(a.data("verb")+"-selected")})}(jQuery);
//# sourceMappingURL=app.min.js.map
