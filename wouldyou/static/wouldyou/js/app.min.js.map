{"version":3,"sources":["00 global.js","30 onboard.js"],"names":["$","ajaxSetup","headers","X-CSRFToken","attr","block","clone","removeAttr","removeClass","hide","widget","parent","show","this","append","prototype","completed","fadeOut","remove","fadeIn","window","BlockUi","jQuery","click","selector","selected","find","ids","map","val","get","url","data","message","FB","ui","method","to","join","response","closest","post","fail","always"],"mappings":"AAAAA,EAAEC,WACAC,SACEC,cAAeH,EAAE,2BAA2BI,KAAK,cAKrD,SAAWJ,GAET,GAAIK,GAAQL,EAAE,aACXM,QACAC,WAAW,MACXC,YAAY,UACZC,OAECC,EAAS,SAASC,EAAQC,GAC5BC,KAAKR,MAAQA,EAAMC,QAEnBO,KAAKF,OAASX,EAAEW,GAChBE,KAAKF,OAAOG,OAAOD,KAAKR,OAExBQ,KAAKD,OAGPF,GAAOK,WACLN,KAAM,SAAUO,GACdH,KAAKR,MAAMY,QAAQ,IAAK,WACtBjB,EAAEa,MAAMK,YAIZN,KAAM,SAAUI,GACdH,KAAKR,MAAMc,OAAO,OAItBC,OAAOC,QAAUX,GAChBY;CCrCH,SAAWtB,GAEXA,EAAE,gCAAgCuB,MAAM,WACtC,GAAIC,GAAWxB,EAAE,kBACbyB,EAAWD,EAASE,KAAK,iBACzBC,EAAMF,EAASG,IAAI,WACnB,MAAO5B,GAAEa,MAAMgB,QAChBC,MAGCC,EAAMP,EAASQ,KAAK,eACtBC,EAAUT,EAASQ,KAAK,WAEtB3B,EAAQ,GAAIgB,SAAQG,EAGxBU,IAAGC,IAAIC,OAAQ,cACbH,QAASA,EACTI,GAAIV,EAAIW,KAAK,MACZ,SAASC,GACV,OAAKA,GAAY,cAAgBA,OAC/BlC,GAAMI,QAIRgB,EAASe,QAAQ,SACZvB,cAGLjB,GAAEyC,KAAKV,GACLQ,SAAUA,IACTG,KAAK,cAELC,OAAO,WACRtC,EAAMI,eAKTa","file":"app.min.js","sourcesContent":["$.ajaxSetup({\n  headers: {\n    'X-CSRFToken': $('meta[name=\"csrf_token\"]').attr('content'),\n  }\n});\n\n// Block UI widget\n(function ($) {\n  // Save a copy of the block UI element for future use\n  var block = $('#block-ui')\n    .clone()\n    .removeAttr('id')\n    .removeClass('hidden')\n    .hide();\n\n  var widget = function(parent, show) {\n    this.block = block.clone();\n\n    this.parent = $(parent);\n    this.parent.append(this.block);\n\n    this.show();\n  };\n\n  widget.prototype = {\n    hide: function (completed) {\n      this.block.fadeOut(300, function () {\n        $(this).remove();\n      })\n    },\n\n    show: function (completed) {\n      this.block.fadeIn(300);\n    }, \n  };\n\n  window.BlockUi = widget;\n})(jQuery);","(function ($) {\n\n$('body.onboard .friends button').click(function(){\n  var selector = $('.friend-invite');\n  var selected = selector.find('input:checked');\n  var ids = selected.map(function(){\n      return $(this).val();\n  }).get();\n\n  // These are defined on the selector tag itself using data-* attributes\n  var url = selector.data('request-url'),\n    message = selector.data('message');\n\n  var block = new BlockUi(selector);\n\n  // See: https://developers.facebook.com/docs/games/services/gamerequests\n  FB.ui({method: 'apprequests',\n    message: message,\n    to: ids.join(','),\n  }, function(response){\n    if (!response || 'error_code' in response) {\n      block.hide();\n      return;\n    }\n\n    selected.closest('label')\n        .fadeOut();\n\n    // Fire off Ajax request\n    $.post(url, {\n      response: response\n    }).fail(function () {\n      // TODO: Figure out front end error handling strategy\n    }).always(function () {\n      block.hide();\n    });\n  });\n});\n\n})(jQuery);\n\n"],"sourceRoot":"/source/"}